!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Awezoom=e():t.Awezoom=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
* awezoom v1.0.1
* https://github.com/JohannUlbrich/awezoom
*
* Copyright (c) 2016 Johann Ulbrich <info@johann-ulbrich.de>
* Released under the MIT license
*
* Date: 2018-03-18
*/
!function(){for(var t=0,e=["moz","ms","o","webkit"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var s,a,r,h,l=(s=void 0,a=!1,r=function(){s(),a=!1},h=function(){a||(a=!0,window.requestAnimationFrame(r))},{addResizeListener:function(t){window.addEventListener("resize",h),s=t},removeResizeListener:function(){window.removeEventListener("resize",h)}}),c=Object.prototype.hasOwnProperty,m=function(t){if(t&&"object"===(void 0===t?"undefined":o(t))){var e={zoomLevel:1,minZoomLevel:.125,maxZoomLevel:32,zoomFactor:2,alignment:{horizontal:"center",vertical:"center"},zoomEasing:"ease-in-out",zoomDuration:"300ms",focalPoint:{x:0,y:0},beforeZoomCallback:function(){},afterZoomCallback:function(){}},i={};for(var n in e)c.call(e,n)&&(i[n]=t[n]||e[n]);return i}},f=function(t,e){for(var i in e)if(c.call(e,i))if(void 0!==t.style[i])t.style[i]=e[i];else{var n=["webkit","Moz","ms","O"],o=i[0].toUpperCase()+i.substr(1);for(var s in n)if(c.call(n,s)&&void 0!==t.style[n[s]+o]){t.style[n[s]+o]=e[i];break}}},d=function(){var t=document.createElement("div"),e={transition:"transitionend",oTransition:"oTransitionEnd",mozTransition:"transitionend",webkitTransition:"webkitTransitionEnd"},i=void 0;for(var n in e)if(void 0!==t.style[n]){i=e[n];break}return i},u=function(t,e,i){return e>i&&console.warn("Warning: The minimum value "+e+" is bigger than the the maximum value "+i+"."),Math.min(i,Math.max(e,t))},g=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
* awezoom v1.0.1
* https://github.com/JohannUlbrich/awezoom
*
* Copyright (c) 2016 Johann Ulbrich <info@johann-ulbrich.de>
* Released under the MIT license
*
* Date: 2018-03-18
*/(this,t);var o=void 0;if("string"==typeof e?o=document.querySelector(e):e.nodeType&&1===e.nodeType&&(o=e),o){this.settings=m(i);var s=o.children;s.length>1&&(o.innerHTML="<div>"+o.innerHTML+"</div>");var a=s[0],r=document.createElement("div");o.appendChild(r),r.appendChild(a),f(o,{overflow:"scroll",position:"relative"}),f(r,{position:"absolute",overflow:"hidden",transform:"translateZ(0)"}),f(a,{position:"absolute",transformOrigin:"0 0 0"}),this.state={zoomContainerElement:o,zoomContentElement:a,placeholderElement:r,isZooming:!1,transitionEndEvent:d(),alignment:this.settings.alignment,zoomLevel:this.settings.zoomLevel,zoomContainerSize:{},contentSize:{},contentOffset:{x:0,y:0},scrollPosition:{}},this.update(),l.addResizeListener(function(){n.position()}),this.zoom(this.state.zoomLevel,{x:0,y:0},"0ms")}else console.warn("Warning: The zoom container element was not found.")}return n(t,[{key:"update",value:function(){this.state.zoomContainerSize=this.calculateZoomContainerSize(),this.state.contentSize=this.calculateContentSize(),this.state.scrollPosition=this.calculateScrollPosition()}},{key:"position",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.settings.zoomDuration,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.zoomEasing;this.update();var i=this.state.zoomLevel,n=this.state.zoomContainerSize,o=this.state.contentSize,s=this.determineIntendedContentOffset();n.width>o.width&&f(this.state.placeholderElement,{width:"100%"}),n.height>o.height&&f(this.state.placeholderElement,{height:"100%"}),f(this.state.zoomContentElement,{transitionDuration:t,transitionTimingFunction:e,transformOrigin:"0 0 0",transform:"matrix("+i+", 0, 0, "+i+", "+s.x+", "+s.y+")"}),f(this.state.placeholderElement,{width:o.width+s.x+"px",height:o.height+s.y+"px"}),this.state.contentOffset=s}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.settings.zoomLevel,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.focalPoint,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.settings.zoomDuration,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.settings.zoomEasing,o=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.settings.beforeZoomCallback,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.settings.afterZoomCallback;if(!this.state.isZooming&&!(t<this.settings.minZoomLevel||t>this.settings.maxZoomLevel)){this.state.isZooming=!0,s(),this.update();var r=this.state.zoomLevel,h=this.state.contentOffset,l=this.state.contentSize,c=this.state.scrollPosition,m=this.calculateContentSize(t),d=this.determineTransformOrigin(e,r,t),g=this.determineIntendedContentOffset(t),y=void 0,v=this.state.zoomContainerSize,w=this.findRawCoordinatesInZoomedContent(d,t),x=this.findRawCoordinatesInViewport(d),z={x:m.width-v.width>0?m.width-v.width:0,y:m.height-v.height>0?m.height-v.height:0},p={x:u(w.x-x.x,0,z.x),y:u(w.y-x.y,0,z.y)},C=d.x*r-d.x,b=d.y*r-d.y,E={x:C+h.x,y:b+h.y};t>r?(E.x+=p.x-c.x,E.y+=p.y-c.y,f(this.state.placeholderElement,{width:m.width+g.x+"px",height:m.height+g.y+"px"}),this.setScrollPosition(p)):f(this.state.placeholderElement,{width:l.width+h.x+"px",height:l.height+h.y+"px"});var k=function e(){f(o.state.zoomContentElement,{transitionDuration:"",transitionTimingFunction:"",transformOrigin:"0 0 0",transform:"matrix("+t+", 0, 0, "+t+", "+g.x+", "+g.y+")"}),t<=r&&(f(o.state.placeholderElement,{width:m.width+g.x+"px",height:m.height+g.y+"px"}),o.setScrollPosition(p)),y&&o.state.zoomContentElement.removeEventListener(y,e,!1),o.state.zoomLevel=t,o.state.contentSize=m,o.state.contentOffset=g,o.state.isZooming=!1,a()};i.replace(/[^\d\.,]/g,"")<=0||r===t?k():(y=this.state.transitionEndEvent,f(this.state.zoomContentElement,{transitionDuration:"",transitionTimingFunction:"",transformOrigin:d.x+"px "+d.y+"px 0",transform:"matrix("+r+", 0, 0, "+r+", "+E.x+", "+E.y+")"}),this.triggerReflow(),this.state.zoomContentElement.addEventListener(y,k,!1),f(this.state.zoomContentElement,{transitionDuration:i,transitionTimingFunction:n,transform:"matrix("+t+", 0, 0, "+t+", "+E.x+", "+E.y+")"}))}}},{key:"zoomIn",value:function(t,e,i){this.zoom(this.state.zoomLevel*this.settings.zoomFactor,t,e,i)}},{key:"zoomOut",value:function(t,e,i){this.zoom(this.state.zoomLevel/this.settings.zoomFactor,t,e,i)}},{key:"zoomToFit",value:function(t,e){var i=this.state.zoomContainerSize,n=this.calculateContentSize(1),o=i.width/n.width,s=i.height/n.height,a=void 0;a=o<s?o:s,this.zoom(a,{x:0,y:0},t,e)}},{key:"triggerReflow",value:function(){return this.state.zoomContentElement.offsetHeight}},{key:"calculateZoomContainerSize",value:function(){var t=this.state.zoomContainerElement;return{width:t.clientWidth,height:t.clientHeight}}},{key:"calculateContentSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,e=this.state.zoomContentElement;return{width:e.offsetWidth*t,height:e.offsetHeight*t}}},{key:"findViewportCoordinatesInRawContent",value:function(t){var e=this.state.scrollPosition,i=this.state.contentOffset,n=this.state.zoomLevel,o=this.calculateContentSize(1),s={x:(t.x+e.x-i.x)/n,y:(t.y+e.y-i.y)/n};return{x:u(s.x,0,o.width),y:u(s.y,0,o.height)}}},{key:"findRawCoordinatesInViewport",value:function(t){var e=this.state.zoomLevel,i=this.state.contentOffset,n=this.state.scrollPosition;return{x:t.x*e+(i.x-n.x),y:t.y*e+(i.y-n.y)}}},{key:"findRawCoordinatesInZoomedContent",value:function(t,e){return{x:t.x*e,y:t.y*e}}},{key:"calculateScrollPosition",value:function(){var t=this.state.zoomContainerElement;return{x:t.scrollLeft,y:t.scrollTop}}},{key:"setScrollPosition",value:function(t){var e=this.state.zoomContainerElement;e.scrollLeft=t.x,e.scrollTop=t.y,this.state.scrollPosition=t}},{key:"determineIntendedContentOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,e=this.state.zoomContainerSize,i=this.state.alignment,n=this.calculateContentSize(t),o={width:e.width-n.width,height:e.height-n.height},s={x:0,y:0};if(o.width>0)switch(i.horizontal){case"left":s.x=0;break;case"right":s.x=o.width;break;case"center":default:s.x=o.width/2}if(o.height>0)switch(i.vertical){case"top":s.y=0;break;case"bottom":s.y=o.height;break;case"center":default:s.y=o.height/2}return s}},{key:"determineContentMargin",value:function(t,e){var i=this.state.zoomContainerSize,n=this.calculateContentSize(t),o=this.findViewportCoordinatesInRawContent(e),s=this.findRawCoordinatesInZoomedContent(o,t),a=e.y,r=i.width-e.x,h=i.height-e.y,l=e.x;return{top:a-s.y,right:r-(n.width-s.x),bottom:h-(n.height-s.y),left:l-s.x}}},{key:"determineTransformOrigin",value:function(t,e,i){var n=this.state.contentOffset,o=this.state.alignment,s=this.state.zoomContainerSize,a=this.calculateContentSize(1),r=this.calculateContentSize(e),h=this.calculateContentSize(i),l=i/e,c={x:u(t.x,n.x,r.width+n.x),y:u(t.y,n.y,r.height+n.y)},m=this.determineContentMargin(i,c),f=this.findViewportCoordinatesInRawContent(c);if(r.width<s.width&&h.width<s.width)switch(o.horizontal){case"left":f.x=0;break;case"right":f.x=a.width;break;case"center":default:f.x=a.width/2}else if(h.width>=s.width)m.right>0&&(f.x-=m.right/(l-1)/e),m.left>0&&(f.x+=m.left/(l-1)/e);else if(r.width>=s.width&&h.width<=s.width)switch(o.horizontal){case"left":f.x+=m.left/(l-1)/e;break;case"right":f.x-=m.right/(l-1)/e;break;case"center":default:f.x-=(m.right-m.left)/(l-1)/e/2}if(r.height<s.height&&h.height<s.height)switch(o.vertical){case"top":f.y=0;break;case"bottom":f.y=a.height;break;case"center":default:f.y=a.height/2}else if(h.height>=s.height)m.bottom>0&&(f.y-=m.bottom/(l-1)/e),m.top>0&&(f.y+=m.top/(l-1)/e);else if(r.height>=s.height&&h.height<=s.height)switch(o.vertical){case"top":f.y+=m.top/(l-1)/e;break;case"bottom":f.y-=m.bottom/(l-1)/e;break;case"center":default:f.y-=(m.bottom-m.top)/(l-1)/e/2}return f}},{key:"pinch",value:function(t,e,i){var n=this;switch(t){case"pinchstart":if(this.state.isZooming)return;this.state.isZooming=!0,this.update();var o=this.state.zoomLevel,s=this.state.zoomContainerSize,a=this.state.contentSize,r=this.state.contentOffset,h=this.findViewportCoordinatesInRawContent(e),l={x:h.x*o-h.x,y:h.y*o-h.y},c={x:l.x+r.x,y:l.y+r.y};s.width>a.width&&f(this.state.placeholderElement,{width:"100%"}),s.height>a.height&&f(this.state.placeholderElement,{height:"100%"}),f(this.state.zoomContentElement,{transitionDuration:"",transitionTimingFunction:"",transformOrigin:h.x+"px "+h.y+"px 0",transform:"matrix("+o+", 0, 0, "+o+", "+c.x+", "+c.y+")"}),this.state.lastPinchFocalPoint=e,this.state.lastPinchOffset=c,this.state.lastPinchOrigin=h,this.state.lastPinchZoomLevel=o;break;case"pinchmove":var m=i*this.state.zoomLevel;if(m<this.settings.minZoomLevel||m>this.settings.maxZoomLevel)return;f(this.state.zoomContentElement,{transform:"matrix("+m+", 0, 0, "+m+", "+this.state.lastPinchOffset.x+", "+this.state.lastPinchOffset.y+")"}),this.state.lastPinchZoomLevel=m;break;case"pinchend":default:if(!this.state.isZooming)return;var d=this.settings.zoomEasing,g=this.settings.zoomDuration,y=this.state.lastPinchZoomLevel,v=this.state.transitionEndEvent,w=this.state.zoomContainerSize,x=this.calculateContentSize(y),z=this.determineIntendedContentOffset(y),p=this.determineContentMargin(y,this.state.lastPinchFocalPoint),C={x:this.state.lastPinchOffset.x,y:this.state.lastPinchOffset.y};x.width>w.width?(C.x-=p.left>0?p.left:0,C.x+=p.right>0?p.right:0):C.x+=z.x-p.left,x.height>w.height?(C.y-=p.top>0?p.top:0,C.y+=p.bottom>0?p.bottom:0):C.y+=z.y-p.top;var b=this.findRawCoordinatesInZoomedContent(this.state.lastPinchOrigin,y),E=this.state.lastPinchFocalPoint,k={x:x.width-w.width>0?x.width-w.width:0,y:x.height-w.height>0?x.height-w.height:0},P={x:u(b.x-E.x,0,k.x),y:u(b.y-E.y,0,k.y)},O=function t(){f(n.state.zoomContentElement,{transitionDuration:"",transitionTimingFunction:"",transformOrigin:"0 0 0",transform:"matrix("+y+", 0, 0, "+y+", "+z.x+", "+z.y+")"}),f(n.state.placeholderElement,{width:x.width+z.x+"px",height:x.height+z.y+"px"}),n.setScrollPosition(P),v&&n.state.zoomContentElement.removeEventListener(v,t,!1),n.state.zoomLevel=y,n.state.contentOffset=z,n.state.lastPinchFocalPoint=null,n.state.lastPinchOffset=null,n.state.lastPinchOrigin=null,n.state.lastPinchZoomLevel=null,n.state.isZooming=!1};this.state.lastPinchOffset.x!==C.x||this.state.lastPinchOffset.y!==C.y?(this.state.zoomContentElement.addEventListener(v,O,!1),f(this.state.zoomContentElement,{transitionDuration:g,transitionTimingFunction:d,transform:"matrix("+y+", 0, 0, "+y+", "+C.x+", "+C.y+")"})):O()}}}]),t}();e.default=g,t.exports=e.default}])});
//# sourceMappingURL=awezoom.min.js.map